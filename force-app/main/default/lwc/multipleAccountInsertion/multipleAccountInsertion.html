<template>
    <lightning-card>
        <div slot="footer">
            <lightning-button  
                label = "Add" 
                variant = "brand"  
                onclick = {addRow}>
            </lightning-button>&nbsp;
            <lightning-button  
                label = "Save" 
                variant = "brand" 
                onclick = {saveMultipleAccounts}>
            </lightning-button>
        </div> 

        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" role = "grid">
            <thead>
                <tr>
                    <th scope="col" height = "1">S.NO</th>
                    <th scope="col" height = "1" style = "width: 1rem">Row selection</th>
                    <th scope="col" height = "1">Account Name</th>
                    <th scope="col" height = "1">Account Industry</th>
                    <th scope="col" height = "1">Account Phone</th>
                    <th scope="col" height = "1">Action</th>
                </tr>
            </thead>
            <tbody>
                <template for:each = {accountRecList} for:item = "account" for:index = "index">
                    <tr class="slds-hint-parent slds-line-height_reset" key = {keyIndex}>
                        <td>{index}</td>
                        <td>
                            <lightning-input 
                                type = "checkbox"                                
                                data-index = {index}
                                onchange= {selectedCheckbox}>
                            </lightning-input>                        
                        </td>
                        <td>
                            <div class="slds-box">  
                                <c-custom-lookup 
                                    lookup-label="Account" 
                                    object-api-name="account" 
                                    icon-name="standard:account"  
                                    onrecordselection={onAccountSelection}
                                    id = {index}>
                                </c-custom-lookup>  
                              </div>  
                        </td>
                        <td>
                            <lightning-input 
                                name = 'Name' 
                                access-key = {index} 
                                id = {index} 
                                type = 'text' 
                                onchange = {changeHandler}  
                                value = {account.Name}>
                            </lightning-input>
                        </td>
                        <td>
                            <lightning-input 
                                name='Industry' 
                                access-key={index} 
                                id={index} 
                                type='text' 
                                onchange={changeHandler}   
                                value={account.Industry}>
                            </lightning-input>
                        </td>
                        <td>
                            <lightning-input 
                                name='Phone' 
                                access-key={index} 
                                type='Phone' 
                                id={index}  
                                onchange={changeHandler} 
                                value={account.Phone}>
                            </lightning-input>
                        </td>
                        <td>
                            <lightning-icon 
                                icon-name="action:delete"  
                                access-key={index} 
                                id={index} 
                                alternative-text="Click to Call" 
                                size="small" 
                                title="large size" 
                                onclick={removeRow}>
                            </lightning-icon>               
                        </td>
                    </tr>

                </template>
            </tbody>
        </table>   
    </lightning-card>
</template>